# sysctl settings are defined through files in
# /usr/lib/sysctl.d/, /run/sysctl.d/, and /etc/sysctl.d/.
#
# Vendors settings live in /usr/lib/sysctl.d/.
# To override a whole file, create a new file with the same in
# /etc/sysctl.d/ and put new settings there. To override
# only specific settings, add a file with a lexically later
# name in /etc/sysctl.d/ and put new settings there.
#
# For more information, see sysctl.conf(5) and sysctl.d(5).
[hadoop@jchadcen01 ~]$ cat /etc/sysctl.conf
# sysctl settings are defined through files in
# /usr/lib/sysctl.d/, /run/sysctl.d/, and /etc/sysctl.d/.
#
# Vendors settings live in /usr/lib/sysctl.d/.
# To override a whole file, create a new file with the same in
# /etc/sysctl.d/ and put new settings there. To override
# only specific settings, add a file with a lexically later
# name in /etc/sysctl.d/ and put new settings there.
#
# For more information, see sysctl.conf(5) and sysctl.d(5).

fs.file-max = {{ file_max }}

# disable swapiness
vm.swappiness = {{ disable_value}}

#
vm.nr_hugepages= {{ disable_value}}

#
#kernel.shmmax
#kernel.shmall

# port range
net.ipv4.ip_local_port_range = 1024 65535

# Enable TCP socket reuse and recycle
net.ipv4.tcp_tw_recycle = {{ enable_value }}
net.ipv4.tcp_tw_reuse = {{ enable_value }}

# Tune the SYN backlog queue
net.ipv4.tcp_max_syn_backlog = 4096
net.core.netdev_max_backlog = 2000

# Change the send and receive socket buffer size
net.core.rmem_max = 16777216
net.core.wmem_max = 16777216

# Prevent SYN flood by controlling the half open connections
net.ipv4.tcp_syncookies = {{ enable_value }}

# Increase the listening queue length
net.core.somaxconn = 4096

# Always keep some memory free for network traffic and not cause OOM.
vm.min_free_kbytes = 67584

# Disable responses to broadcast
net.ipv4.icmp_echo_ignore_broadcasts = {{ enable_value }}

# Enable route verification
net.ipv4.conf.all.rp_filter = {{ enable_value }}

# Disable IPv6
net.ipv6.conf.all.disable_ipv6 = {{ enable_value }}
net.ipv6.conf.default.disable_ipv6 = {{ enable_value }}

# enable selective acknowledgement for TCP packets
net.ipv4.tcp_sack = {{ enable_value }}

# Increase the count of inotify watcher to listen to more directories
fs.inotify.max_user_watches = 65536.
